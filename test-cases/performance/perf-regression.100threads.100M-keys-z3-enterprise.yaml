test_duration: 1200

prepare_write_cmd: ["cassandra-stress write no-warmup cl=ALL n=400M -schema 'replication(strategy=NetworkTopologyStrategy,replication_factor=3)' -mode cql3 native -rate threads=300 -col 'size=FIXED(128) n=FIXED(8)' -pop seq=1..400M",
                    "cassandra-stress write no-warmup cl=ALL n=400M -schema 'replication(strategy=NetworkTopologyStrategy,replication_factor=3)' -mode cql3 native -rate threads=300 -col 'size=FIXED(128) n=FIXED(8)' -pop seq=401M..800M",
                    "cassandra-stress write no-warmup cl=ALL n=400M -schema 'replication(strategy=NetworkTopologyStrategy,replication_factor=3)' -mode cql3 native -rate threads=300 -col 'size=FIXED(128) n=FIXED(8)' -pop seq=801M..1200M",
                    "cassandra-stress write no-warmup cl=ALL n=400M -schema 'replication(strategy=NetworkTopologyStrategy,replication_factor=3)' -mode cql3 native -rate threads=300 -col 'size=FIXED(128) n=FIXED(8)' -pop seq=1201M..1600M",
                    "cassandra-stress write no-warmup cl=ALL n=400M -schema 'replication(strategy=NetworkTopologyStrategy,replication_factor=3)' -mode cql3 native -rate threads=300 -col 'size=FIXED(128) n=FIXED(8)' -pop seq=1601M..2000M",
                    "cassandra-stress write no-warmup cl=ALL n=400M -schema 'replication(strategy=NetworkTopologyStrategy,replication_factor=3)' -mode cql3 native -rate threads=300 -col 'size=FIXED(128) n=FIXED(8)' -pop seq=2001M..2400M",
                    "cassandra-stress write no-warmup cl=ALL n=400M -schema 'replication(strategy=NetworkTopologyStrategy,replication_factor=3)' -mode cql3 native -rate threads=300 -col 'size=FIXED(128) n=FIXED(8)' -pop seq=2401M..2800M",
                    "cassandra-stress write no-warmup cl=ALL n=400M -schema 'replication(strategy=NetworkTopologyStrategy,replication_factor=3)' -mode cql3 native -rate threads=300 -col 'size=FIXED(128) n=FIXED(8)' -pop seq=2801M..3200M",
                    "cassandra-stress write no-warmup cl=ALL n=400M -schema 'replication(strategy=NetworkTopologyStrategy,replication_factor=3)' -mode cql3 native -rate threads=300 -col 'size=FIXED(128) n=FIXED(8)' -pop seq=3201M..3600M",
                    "cassandra-stress write no-warmup cl=ALL n=400M -schema 'replication(strategy=NetworkTopologyStrategy,replication_factor=3)' -mode cql3 native -rate threads=300 -col 'size=FIXED(128) n=FIXED(8)' -pop seq=3601M..4000M",
                    "cassandra-stress write no-warmup cl=ALL n=400M -schema 'replication(strategy=NetworkTopologyStrategy,replication_factor=3)' -mode cql3 native -rate threads=300 -col 'size=FIXED(128) n=FIXED(8)' -pop seq=4001M..4400M",
                    "cassandra-stress write no-warmup cl=ALL n=400M -schema 'replication(strategy=NetworkTopologyStrategy,replication_factor=3)' -mode cql3 native -rate threads=300 -col 'size=FIXED(128) n=FIXED(8)' -pop seq=4401M..4800M",
                    "cassandra-stress write no-warmup cl=ALL n=400M -schema 'replication(strategy=NetworkTopologyStrategy,replication_factor=3)' -mode cql3 native -rate threads=300 -col 'size=FIXED(128) n=FIXED(8)' -pop seq=4801M..5200M",
                    "cassandra-stress write no-warmup cl=ALL n=400M -schema 'replication(strategy=NetworkTopologyStrategy,replication_factor=3)' -mode cql3 native -rate threads=300 -col 'size=FIXED(128) n=FIXED(8)' -pop seq=5201M..5600M",
                    "cassandra-stress write no-warmup cl=ALL n=400M -schema 'replication(strategy=NetworkTopologyStrategy,replication_factor=3)' -mode cql3 native -rate threads=300 -col 'size=FIXED(128) n=FIXED(8)' -pop seq=5601M..6000M"
                    ]
stress_cmd_w: "cassandra-stress write no-warmup cl=QUORUM duration=15m -schema 'replication(strategy=NetworkTopologyStrategy,replication_factor=3)' -rate threads=400 -mode cql3 native -col 'size=FIXED(128) n=FIXED(8)' -pop seq=1..6000M"
stress_cmd_r: "cassandra-stress read no-warmup cl=QUORUM duration=180m -schema 'replication(strategy=NetworkTopologyStrategy,replication_factor=3)' -mode cql3 native -rate threads=150 -col 'size=FIXED(128) n=FIXED(8)' -pop seq=401M..800M "
stress_cmd_m: "cassandra-stress mixed no-warmup cl=QUORUM duration=60m -schema 'replication(strategy=NetworkTopologyStrategy,replication_factor=3) ' -mode cql3 native -rate threads=150 -col 'size=FIXED(128) n=FIXED(8)' -pop 'dist=gauss(1..100000000,50000000,5000000)' "

# used for read cache warmup:
stress_cmd_no_mv: "cassandra-stress read no-warmup cl=ALL n=400M -schema 'replication(strategy=NetworkTopologyStrategy,replication_factor=3)' -mode cql3 native -rate threads=880 -col 'size=FIXED(128) n=FIXED(8)' -pop seq=401M..800M "

gce_network: 'qa-vpc'
scylla_repo_loader: 'https://s3.amazonaws.com/downloads.scylladb.com/rpm/centos/scylla-2023.1.repo'
# NOTE: following is needed for the K8S case
k8s_loader_run_type: 'static'
use_prepared_loaders: true
n_db_nodes: 3
n_monitor_nodes: 1

# Loaders
gce_instance_type_loader: 'h3-standard-88'
n_loaders: 10
stress_multiplier_r: 15
stress_multiplier_w: 4
stress_multiplier_m: 2


# AWS
instance_type_db: 'i4i.2xlarge'
instance_type_loader: 'c5.2xlarge'
instance_type_monitor: 't3.small'
#------

#GCE
use_preinstalled_scylla: false
gce_instance_type_db: 'z3-highmem-88'
gce_root_disk_type_db: 'pd-ssd'
gce_n_local_ssd_disk_db: 0
gce_root_disk_type_loader: 'pd-ssd'
root_disk_size_loader: 50
gce_instance_type_monitor: 'n2-highmem-16'
gce_image_db: 'https://www.googleapis.com/compute/v1/projects/ubuntu-os-cloud/global/images/family/ubuntu-2204-lts'
scylla_linux_distro: 'ubuntu-jammy'
#------

user_prefix: 'perf-regression-z3'
space_node_threshold: 644245094

backtrace_decoding: false
print_kernel_callstack: false

store_perf_results: true
use_mgmt: false
send_email: true
email_recipients: ['scylla-perf-results@scylladb.com']

custom_es_index: 'performancestatsv2'
use_hdr_cs_histogram: true

append_scylla_args: '--blocked-reactor-notify-ms 5 --abort-on-lsa-bad-alloc 1 --abort-on-seastar-bad-alloc --abort-on-internal-error 1 --abort-on-ebadf 1'
gce_project: 'gcp-local-ssd-latency'
